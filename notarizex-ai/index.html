<!-- ATUALIZAÃ‡ÃƒO: Remover "EM BREVE" do Staff e adicionar modal -->

<!-- Substitua a seÃ§Ã£o do Staff (linhas 166-185) por este cÃ³digo: -->

<!-- Staff -->
<div class="card-glass rounded-2xl p-8 text-left hover:scale-105 transition-transform">
    <div class="flex justify-between items-start mb-4">
        <h3 class="text-2xl font-bold">Staff</h3>
        <span class="badge-available">DISPONÃVEL</span>
    </div>
    <p class="text-gray-400 mb-6">Seu assistente pessoal inteligente.</p>
    <div class="text-4xl font-bold mb-6">
        R$ 19,90<span class="text-lg text-gray-400">/mÃªs</span>
    </div>
    <ul class="space-y-3 mb-8 text-sm text-gray-300">
        <li>ğŸ“… Agenda e lembretes</li>
        <li>ğŸ’° FinanÃ§as pessoais</li>
        <li>ğŸš— Documentos e veÃ­culos</li>
        <li>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ GestÃ£o familiar</li>
    </ul>
    <button onclick="openModal('staff')" class="btn-primary w-full">
        Criar Meu Staff Agora
    </button>
</div>


<!-- Adicione este modal ANTES do fechamento do </body> (apÃ³s o modal do WhatsApp): -->

<!-- Modal Staff -->
<div id="modal-staff" class="modal">
    <div class="modal-content">
        <h2 class="text-3xl font-bold mb-6">Criar Seu Staff</h2>
        <form id="form-staff" class="space-y-4">
            <div>
                <label class="block text-sm font-medium mb-2">Seu Nome</label>
                <input type="text" name="name" required class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-green-500">
            </div>
            <div>
                <label class="block text-sm font-medium mb-2">Email</label>
                <input type="email" name="email" required class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-green-500">
            </div>
            <div>
                <label class="block text-sm font-medium mb-2">WhatsApp (com DDD)</label>
                <input type="tel" name="whatsapp" required placeholder="(13) 99999-9999" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-green-500">
            </div>
            <div>
                <label class="block text-sm font-medium mb-2">Como o Staff pode te ajudar? (Opcional)</label>
                <textarea name="preferences" rows="3" placeholder="Ex: Preciso de lembretes, ajuda com finanÃ§as, organizar documentos..." class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-green-500"></textarea>
                <p class="text-xs text-gray-500 mt-1">Isso ajuda a personalizar seu assistente</p>
            </div>
            
            <div class="flex gap-3">
                <button type="button" onclick="closeModal('staff')" class="flex-1 bg-gray-700 hover:bg-gray-600 font-bold py-3 rounded-lg transition">
                    Cancelar
                </button>
                <button type="submit" class="flex-1 btn-primary">
                    Criar Staff (R$ 19,90/mÃªs)
                </button>
            </div>
        </form>
        <div id="loading-staff" style="display:none;" class="text-center py-8">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"></div>
            <p>Criando seu Staff...</p>
        </div>
    </div>
</div>


<!-- Adicione este JavaScript ANTES do fechamento do </script>: -->

// Form Staff
document.getElementById('form-staff').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const form = e.target;
    const formData = new FormData(form);
    
    form.style.display = 'none';
    document.getElementById('loading-staff').style.display = 'block';
    
    try {
        const response = await fetch('/.netlify/functions/staff-onboarding', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                name: formData.get('name'),
                email: formData.get('email'),
                whatsapp: formData.get('whatsapp'),
                preferences: formData.get('preferences')
            })
        });
        
        const result = await response.json();
        
        if (result.success) {
            alert('âœ… Staff criado com sucesso! Verifique seu email para completar o pagamento.');
            window.location.href = result.paymentLink;
        } else {
            throw new Error(result.error || 'Erro ao criar Staff');
        }
    } catch (error) {
        console.error('Erro:', error);
        alert('âŒ Erro ao criar Staff: ' + error.message);
        form.style.display = 'block';
        document.getElementById('loading-staff').style.display = 'none';
    }
});
